
{% extends "base.html" %}
{% load staticfiles %}
{% load get_dict_value %}
{% block content %}
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha/css/bootstrap.min.css">
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

    <div class="container">
        <button id="zipFeedback" data-href="test_file/"> Feedback </button>
        <div class="table-responsive">
            <table class="table table-hover table-bordered">
                <thead>
                    <tr>
                        <th>Student ID</th>
                        <th>Firstname</th>
                        <th>Surname</th>
                        <th>Feedback</th>
                    </tr>
                </thead>
                <tbody>
                {% for student in students %}
                    <tr class='clickable-row' data-href='{{ student.student_id }}'>
                        <td>{{ student.student_id }}</td>
                        <td>{{ student.first_name }}</td>
                        <td>{{ student.last_name }}</td>
                        {% if feedbacks|lookup:student %}
                            <td><i class="fa fa-check-circle" style="color:darkgreen"></i></td>
                        {% else %}
                            <td><i class="fa fa-times-rectangle" style="color:red"></i></td>
                        {% endif %}
                    </tr>

                {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
<script>
    $(document).ready(function() {
        $(".clickable-row").click(function() {
            window.document.location = $(this).data("href");
        });
        $('#zipFeedback').click(function () {
            window.document.location = $(this).data("href");
        });
    });
</script>
    <style>

    </style>
{% endblock %}